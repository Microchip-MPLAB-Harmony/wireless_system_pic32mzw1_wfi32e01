<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="Over The Air (OTA) firmware update System Service" />
<meta name="DC.relation" scheme="URI" content="GUID-653E183F-71C9-4BD2-9698-4D4BB2A2992A.html" />
<meta name="DC.relation" scheme="URI" content="GUID-E13DC21B-3F94-455C-8DB3-48F8F7163844.html" />
<meta name="DC.relation" scheme="URI" content="GUID-44230E49-6079-4901-9D7C-F71412C3B9EA.html" />
<meta name="DC.relation" scheme="URI" content="GUID-F8A21576-2DFD-406F-9736-CEFDE7AD5207.html" />
<meta name="DC.relation" scheme="URI" content="GUID-C340E1A4-6E08-4399-8480-E07BA98EDFB2.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="over-the-air-ota-firmware-update-system-service" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<title>Over The Air (OTA) firmware update System Service</title>
<meta name="Microsoft.Help.Id" content="GUID-2B8E373F-A339-4F88-A864-07460CC2D917-over-the-air-ota-firmware-update-system-service" />
<meta name="Microsoft.Help.TocParent" content="GUID-2B8E373F-A339-4F88-A864-07460CC2D917" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLAB Harmony PIC32MZW1/WFI32 wireless system services Reference A 03/2023" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
         
         function copyContent(content, button) {
         
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                     button.textContent = "Copy";
                     button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
               console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
         }
         
         function cpy(id, button) {
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            
            copyContent(content, button);
         }
         
         document.addEventListener("DOMContentLoaded", function(event) {
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.style.position = "relative";
               var copy = document.createElement("button");
               copy.textContent = "Copy";
               copy.setAttribute("class", "copy-code");
               
               var content = elem.textContent;
               
               copy.addEventListener("click", function(){
                  copyContent(content, copy);
               });
               
               elem.addEventListener("mouseenter", function(evt){
                  elem.prepend(copy);
               });
            });
            
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.addEventListener("mouseleave", function(evt){
                  document.querySelector(".copy-code").remove();
               });
            });
         });
         
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-AF87F0BB-E319-4436-A302-357BFA7E193E"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /></head>
<body id="over-the-air-ota-firmware-update-system-service">
<h1 class="title topictitle1" id="ariaid-title1" style="">Over The Air (OTA) firmware update System Service</h1><div class="body"><p class="p">OTA System Service Library provides an application programming interface (API) to manage OTA functionalities. The OTA System Service uses the Wi-Fi service, Net service, NetPres APIs for achieving these functionalities. The user would need to configure the Home AP credentials (like SSID and Passphrase). The Wi-Fi service will use the credentials to connect to the Home AP and acquire an IP address. Once the IP address is obtained service will perform OTA update process based on OTA service configurations.</p>
</div>
<div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="GUID-E13DC21B-3F94-455C-8DB3-48F8F7163844.html">OTA System Service Usage</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-44230E49-6079-4901-9D7C-F71412C3B9EA.html">OTA System Service Configuration</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-F8A21576-2DFD-406F-9736-CEFDE7AD5207.html">OTA System Service Interface</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-C340E1A4-6E08-4399-8480-E07BA98EDFB2.html">OTA System Service Developer's Guide</a></strong><br />
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-653E183F-71C9-4BD2-9698-4D4BB2A2992A.html">MPLAB® Harmony 3 PIC32MZW1/WFI32 wireless system services</a></div>
</div>
</div><div class="topic nested1" aria-labelledby="ariaid-title2" id="key-features"><h2 class="title topictitle2" id="ariaid-title2" style="">Key Features</h2><div class="body"><ul class="ul"><li class="li"><p class="p"><strong class="ph b">External Flash based OTA</strong></p>
<p class="p">OTA images will be stored in a filesystem hosted on an External flash.
An OTA database d MHC file system) is maintained in the external flash to manage images.</p>
</li>
<li class="li"><p class="p"><strong class="ph b">OTA download during application execution</strong></p>
<p class="p">When an updated image is available, it will be downloaded in the background while customer application is running, without disturbing any processes executing in the system. The application can optionally chose when the download should start.</p>
</li>
<li class="li"><p class="p"><strong class="ph b">Opt when to switch to new image</strong></p>
<p class="p">Customer application can decide when it should switch to the new image. This lets the current application gracefully shutdown services and apply the update at a later point.</p>
</li>
<li class="li"><p class="p"><strong class="ph b">Trigger firmware update via a single API</strong></p>
<p class="p">OTA service can be configured to work in daemon mode where the system service performs periodic update checks and auto-restart once a valid image is downloaded. It can also be configured to asynchronously trigger a firmware update via a single API call.</p>
</li>
<li class="li"><p class="p"><strong class="ph b">Firmware update trigger from device or external sources</strong></p>
<p class="p">OTA update checks can be triggered via external source if not configured for periodic checks.</p>
</li>
<li class="li"><p class="p"><strong class="ph b">Opt for Secure OTA</strong></p>
<p class="p">The user can opt to perform the OTA image download and update in a secure way using TLS connection and image signatures.</p>
</li>
</ul>
<p class="p">The OTA System Service provides simple APIs to enable OTA functionality. More information is provided in the following sections.</p>
</div>
</div>
</body>
</html>