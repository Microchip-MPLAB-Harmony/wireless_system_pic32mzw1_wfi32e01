<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2023" />
<meta name="DC.rights.owner" content="(C) Copyright 2023" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="Web Socket System Service Usage" />
<meta name="DC.relation" scheme="URI" content="GUID-097A4209-8474-480E-A141-6C8FC60A7671.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="web-socket-system-service-usage" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<title>Web Socket System Service Usage</title>
<meta name="Microsoft.Help.Id" content="GUID-2B8E373F-A339-4F88-A864-07460CC2D917-web-socket-system-service-usage" />
<meta name="Microsoft.Help.TocParent" content="GUID-2B8E373F-A339-4F88-A864-07460CC2D917" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLAB Harmony PIC32MZW1/WFI32 wireless system services Reference A 03/2023" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
         
         function copyContent(content, button) {
         
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                     button.textContent = "Copy";
                     button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
               console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
         }
         
         function cpy(id, button) {
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            
            copyContent(content, button);
         }
         
         document.addEventListener("DOMContentLoaded", function(event) {
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.style.position = "relative";
               var copy = document.createElement("button");
               copy.textContent = "Copy";
               copy.setAttribute("class", "copy-code");
               
               var content = elem.textContent;
               
               copy.addEventListener("click", function(){
                  copyContent(content, copy);
               });
               
               elem.addEventListener("mouseenter", function(evt){
                  elem.prepend(copy);
               });
            });
            
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.addEventListener("mouseleave", function(evt){
                  document.querySelector(".copy-code").remove();
               });
            });
         });
         
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-3F1BB7CA-C728-4096-9386-35EC426BDD9F"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /></head>
<body id="web-socket-system-service-usage">
<h1 class="title topictitle1" id="ariaid-title1" style="">Web Socket System Service Usage</h1><div class="body"></div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-097A4209-8474-480E-A141-6C8FC60A7671.html">Web Socket Server (WSS) System Service</a></div>
</div>
</div><div class="topic nested1" aria-labelledby="ariaid-title2" id="description"><h2 class="title topictitle2" id="ariaid-title2" style="">Description</h2><div class="body"><p class="p">Web Socket System Service Library provides an application programming interface (API) for implementing a Web Socket functionalities. The user need not take care about the connection handshakes,the data frame formatting etc.The WSS Service uses the underlying Net system Service APIs for achieving TCPIP network functionalities.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title3" id="abstraction-model"><h2 class="title topictitle2" id="ariaid-title3" style="">Abstraction Model</h2><div class="body"><p class="p">The Web Socket System Service provides an abstraction to the complete Web Socket implementation with the following functinalities.</p>
<ul class="ul"><li class="li"><p class="p">Connectivity to multiple clients</p>
</li>
<li class="li"><p class="p">Simple APIs for data exchanges</p>
</li>
<li class="li"><p class="p">Reduced time for application development</p>
</li>
</ul>
<p class="p">The Web Socket System Service supports the below operating modes:</p>
<ul class="ul"><li class="li"><p class="p">Server Mode</p>
</li>
<li class="li"><p class="p">Client Mode</p>
</li>
</ul>
<p class="p">The following diagram depicts the Web Socket System Service abstraction model.</p>
<br /><img class="image" src="GUID-8A3E5461-1898-40FE-A45F-9AA5072EC79F-low.png" alt="Abstraction_new" /><br /></div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title4" id="how-the-service-works"><h2 class="title topictitle2" id="ariaid-title4" style="">How the service works</h2><div class="body"><p class="p">Once the user configures the Web Socket System Service in the MHC, the MHC will generate the required code for service implementation. User need to implement his application according to the requirement. The WSS service initialization will be taken care with the code generation.To get the indication on Web Socket Service events, user need to register the callback function using the API SYS_WSS_register_callback().</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title5" id="web-socket-system-service-initialization-in-sever-mode"><h2 class="title topictitle2" id="ariaid-title5" style="">Web Socket System Service Initialization in Sever Mode</h2><div class="body"><br /><img class="image" src="GUID-DB6392DD-9A5A-4C07-922F-E4172701DADA-low.png" alt="WSS_server_init_basic" /><br /></div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title6" id="web-socket-system-service-initialization-in-client-mode"><h2 class="title topictitle2" id="ariaid-title6" style="">Web Socket System Service Initialization in Client Mode</h2><div class="body"><br /><img class="image" src="GUID-A003845D-A707-4D40-92A7-8191FEACE565-low.png" alt="WSS_client_init_basic" /><br /></div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title7" id="web-socket-system-service-api-usage-in-server-mode"><h2 class="title topictitle2" id="ariaid-title7" style="">Web Socket System Service API usage in Server Mode</h2><div class="body"><p class="p">The below diagram shows the API usage of the Web Socket System service in Server mode.</p>
<br /><img class="image" src="GUID-31140189-092F-4C1C-8BBC-AD1C621E353F-low.png" alt="APIusage_greyScale2" /><br /></div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title8" id="web-socket-system-service-api-usage-in-client-mode"><h2 class="title topictitle2" id="ariaid-title8" style="">Web Socket System Service API usage in Client Mode</h2><div class="body"><p class="p">The below diagram shows the API usage of the Web Socket System service in Client mode.</p>
<br /><img class="image" src="GUID-11B082B4-EF96-422D-9A2F-D5634A2169F4-low.png" alt="API_Usage_WSClient_basic" /><br /></div>
</div>
</body>
</html>